Obama makes surprise visit to Jerusalem's Western Wall
Barack Obama ended his trip to Israel this morning with a surprise visit to Jerusalem's Western Wall, before heading to Berlin.

Wearing a yarmulke, the Democratic candidate placed a prayer in the wall.

But his bid to shore up the Jewish vote was tarnished by a heckle from an orthodox Jew. The worshipper shouted "Jerusalem is not for sale" and "Jerusalem is our land," according to Reuters.

Yesterday Obama pledged his "unshakeable commitment to Israel's security," after a day of meetings with the country's most senior leaders and a helicopter flight into a town that has borne the brunt of rockets attacks from Gaza.

Most of the talks on his visit were dominated by Israeli concerns about the threat posed by Iran's nuclear ambitions, although the Democratic presidential candidate spoke also of his hope for a Middle East peace agreement that would see the creation of a "viable and peaceful Palestinian state" alongside a secure Israel.

Obama travelled in a heavily guarded convoy into Ramallah, in the occupied West Bank, where he met the Palestinian president, Mahmoud Abbas, and his prime minister, Salam Fayyad. Although the meeting in the Palestinian territories lasted just one hour of his 36-hour visit to Israel, it was still more than managed by his challenger for the White House, John McCain, who spoke to Abbas only by telephone on his visit to Israel in March.

Senator Obama was flown by helicopter with Tzipi Livni, the Israeli foreign minister, and Ehud Barak, the defence minister, to the southern town of Sderot, where he was given a tour that included visiting a house damaged by rocket fire and met an Israeli boy who lost a leg in another missile attack. There was never a suggestion that the senator would cross into Gaza, which is ruled by the Islamist group Hamas.

Obama spoke in the courtyard of the Sderot police station, with shelves of exploded Palestinian rockets as a backdrop. He said such "terror is intolerable".

The Gaza rocket attacks have largely stopped since Egypt brokered the fragile ceasefire last month. In the first five months of the year 14 Israelis and 362 Palestinians were killed in the conflict in and around Gaza, according to the Israeli human rights group B'Tselem.

Obama said he would work for a peace deal. "Israelis desire a secure peace in which both they and the Palestinians can fulfil their legitimate aspirations: a strong secure state of Israel living alongside a viable and peaceful Palestinian state. We must support Palestinian leaders who share this vision," he said, adding that he would begin work on negotiations as soon as he was elected.

On the subject of Iran, he tried to reassure Israelis. "I will take no options off the table in dealing with this potential Iranian threat," he said. "A nuclear Iran would be a game-changing situation not just in the Middle East but around the world."

Obama knew his words would be closely scrutinised. He worried Palestinians last month when he said Jerusalem should not be divided and later rowed back on those comments. Obama yesterday said the future of the city was a "final status issue", but he added: "I continue to say that Jerusalem will be the capital of Israel. I also have said it is important that we don't simply slice the city in half."

Some Palestinians are genuinely hopeful that an Obama presidency might improve the chances of a peace deal.

"We have no problem with him supporting Israel, the question is how," said Ghassan Khatib, a Palestinian analyst and former planning minister. "We are not expecting him to become pro-Palestinian or not to be pro-Israel but he could be more useful to Israel if he convinced Israel to stop expanding settlements, if his administration became more supportive of the negotiations, if he could relax regional tension."

A McCain presidency would be "problematic", he said.

Many Israelis appear to favour John McCain as a more likely ally. Gerald Steinberg, head of political science at Israel's Bar-Ilan University, said it was too early to judge Obama until he began choosing his staff: "He is not someone who people can easily box into a liberal or neo-con approach to the Israeli-Arab issue."

Steinberg said he had concerns about some advisers who were, in his view, as "part of the Israel-bashing gang".

Obama was due to meet the Israeli prime minister, Ehud Olmert, for dinner last night before making a late visit to the Western Wall, the Jewish holy site inside the Old City in East Jerusalem.